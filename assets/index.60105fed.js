import{S as t,i as e,s as n,e as a,t as o,c as l,a as i,b as r,d as c,f as s,g as u,n as f,h,j as p,k as d,l as v,m as y,o as E,p as m,q as g,r as b,u as T,v as w,w as N,x as O,y as x,z as I}from"./vendor.06758dd2.js";function U(t,e,n){const a=t.slice();return a[21]=e[n],a}function S(t){let e,n,h,p=t[21]+"";return{c(){e=a("option"),n=o(p),h=o("p"),this.h()},l(t){e=l(t,"OPTION",{value:!0});var a=i(e);n=r(a,p),h=r(a,"p"),a.forEach(c),this.h()},h(){e.__value=t[21],e.value=e.__value},m(t,a){s(t,e,a),u(e,n),u(e,h)},p:f,d(t){t&&c(e)}}}function _(t){let e,n,w,O,x,I,_,F,L,P,$,A,B,D,C,R,j,G,W,q,z,V,H,J,K=t[7],M=[];for(let a=0;a<K.length;a+=1)M[a]=S(U(t,K,a));return{c(){e=a("section"),n=a("input"),w=h(),O=a("input"),x=h(),I=a("input"),_=h(),F=a("select");for(let t=0;t<M.length;t+=1)M[t].c();L=h(),P=a("button"),$=o("GENERATE"),A=h(),B=a("section"),D=a("div"),C=o(t[0]),j=h(),G=a("section"),W=a("input"),q=h(),z=a("button"),V=o("DOWNLOAD"),this.h()},l(a){e=l(a,"SECTION",{});var o=i(e);n=l(o,"INPUT",{type:!0}),w=p(o),O=l(o,"INPUT",{type:!0}),x=p(o),I=l(o,"INPUT",{type:!0}),_=p(o),F=l(o,"SELECT",{});var s=i(F);for(let t=0;t<M.length;t+=1)M[t].l(s);s.forEach(c),L=p(o),P=l(o,"BUTTON",{});var u=i(P);$=r(u,"GENERATE"),u.forEach(c),o.forEach(c),A=p(a),B=l(a,"SECTION",{});var f=i(B);D=l(f,"DIV",{class:!0,style:!0});var h=i(D);C=r(h,t[0]),h.forEach(c),f.forEach(c),j=p(a),G=l(a,"SECTION",{});var d=i(G);W=l(d,"INPUT",{type:!0,placeholder:!0}),q=p(d),z=l(d,"BUTTON",{disabled:!0});var v=i(z);V=r(v,"DOWNLOAD"),v.forEach(c),d.forEach(c),this.h()},h(){d(n,"type","text"),d(O,"type","text"),d(I,"type","number"),void 0===t[3]&&N((()=>t[13].call(F))),d(D,"class","preview svelte-erf3xn"),d(D,"style",R=`color: ${k}; background-color: ${t[1]}`),d(W,"type","text"),d(W,"placeholder","filename"),z.disabled=!0},m(a,o){s(a,e,o),u(e,n),v(n,t[0]),u(e,w),u(e,O),v(O,t[1]),u(e,x),u(e,I),v(I,t[2]),u(e,_),u(e,F);for(let t=0;t<M.length;t+=1)M[t].m(F,null);y(F,t[3]),u(e,L),u(e,P),u(P,$),s(a,A,o),s(a,B,o),u(B,D),u(D,C),t[14](D),s(a,j,o),s(a,G,o),u(G,W),v(W,t[6]),u(G,q),u(G,z),u(z,V),t[16](z),H||(J=[E(n,"input",t[10]),E(O,"input",t[11]),E(I,"input",t[12]),E(F,"change",t[13]),E(P,"click",t[8]),E(W,"input",t[15]),E(z,"click",t[9])],H=!0)},p(t,[e]){if(1&e&&n.value!==t[0]&&v(n,t[0]),2&e&&O.value!==t[1]&&v(O,t[1]),4&e&&m(I.value)!==t[2]&&v(I,t[2]),128&e){let n;for(K=t[7],n=0;n<K.length;n+=1){const a=U(t,K,n);M[n]?M[n].p(a,e):(M[n]=S(a),M[n].c(),M[n].m(F,null))}for(;n<M.length;n+=1)M[n].d(1);M.length=K.length}136&e&&y(F,t[3]),1&e&&g(C,t[0]),2&e&&R!==(R=`color: ${k}; background-color: ${t[1]}`)&&d(D,"style",R),64&e&&W.value!==t[6]&&v(W,t[6])},i:f,o:f,d(n){n&&c(e),b(M,n),n&&c(A),n&&c(B),t[14](null),n&&c(j),n&&c(G),t[16](null),H=!1,T(J)}}}let k="#fff";function F(t,e,n){var a=this&&this.__awaiter||function(t,e,n,a){return new(n||(n=Promise))((function(o,l){function i(t){try{c(a.next(t))}catch(e){l(e)}}function r(t){try{c(a.throw(t))}catch(e){l(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,r)}c((a=a.apply(t,e||[])).next())}))};const o=["144","240","360","720","1080"],l=w.createFFmpeg();let i,r,c,s="ここにテキスト",u="#000",f=15,h="240",p=null;return[s,u,f,h,i,r,c,o,()=>a(void 0,void 0,void 0,(function*(){const t=yield O(i);l.isLoaded()||(yield l.load()),t.toBlob((t=>a(void 0,void 0,void 0,(function*(){if(!t)throw new Error("blob");l.FS("writeFile","image.png",new Uint8Array(yield t.arrayBuffer())),yield l.run("-loop","1","-i","image.png","-c:v","libx264","-t",f.toString(),"-pix_fmt","yuv420p","-vf",`scale=${(t=>{switch(t){case"144":return"256:144";case"240":return"427:240";case"360":return"640:360";case"720":return"1280:720";case"1080":return"1920:1080"}})(h)}`,"out.mp4"),p=l.FS("readFile","out.mp4"),n(5,r.disabled=!1,r)}))))})),()=>{if(!p)return;const t=document.createElement("a");t.href=URL.createObjectURL(new Blob([p])),t.download=`${c||"out"}.mp4`,t.click(),p=null},function(){s=this.value,n(0,s)},function(){u=this.value,n(1,u)},function(){f=m(this.value),n(2,f)},function(){h=x(this),n(3,h),n(7,o)},function(t){I[t?"unshift":"push"]((()=>{i=t,n(4,i)}))},function(){c=this.value,n(6,c)},function(t){I[t?"unshift":"push"]((()=>{r=t,n(5,r)}))}]}new class extends t{constructor(t){super(),e(this,t,F,_,n,{})}}({target:document.body});
