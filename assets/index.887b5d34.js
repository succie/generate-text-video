import{S as e,i as t,s as a,e as o,a as r,t as s,c as n,b as c,d as i,f as l,g as u,h as p,j as f,k as m,l as d,m as h,n as v,o as w,r as E,p as y,q as b,u as g}from"./vendor.2514fe68.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(a){const o=new URL(e,location),r=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((a,s)=>{const n=new URL(e,o);if(self[t].moduleMap[n])return a(self[t].moduleMap[n]);const c=new Blob([`import * as m from '${n}';`,`${t}.moduleMap['${n}']=m;`],{type:"text/javascript"}),i=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(c),onerror(){s(new Error(`Failed to import: ${e}`)),r(i)},onload(){a(self[t].moduleMap[n]),r(i)}});document.head.appendChild(i)})),self[t].moduleMap={}}}("/generate-text-video/assets/");function U(e){let t,a,y,b,g,U,T,x,F,L,N,O,$,j,k,I,S;return{c(){t=o("section"),a=o("input"),y=r(),b=o("input"),g=r(),U=o("button"),T=s("GENERATE"),x=r(),F=o("section"),L=o("div"),N=s(e[1]),$=r(),j=o("section"),k=s(e[0]),this.h()},l(o){t=n(o,"SECTION",{});var r=c(t);a=n(r,"INPUT",{type:!0}),y=i(r),b=n(r,"INPUT",{type:!0}),g=i(r),U=n(r,"BUTTON",{});var s=c(U);T=l(s,"GENERATE"),s.forEach(u),r.forEach(u),x=i(o),F=n(o,"SECTION",{});var p=c(F);L=n(p,"DIV",{class:!0,style:!0});var f=c(L);N=l(f,e[1]),f.forEach(u),p.forEach(u),$=i(o),j=n(o,"SECTION",{});var m=c(j);k=l(m,e[0]),m.forEach(u),this.h()},h(){p(a,"type","text"),p(b,"type","text"),p(L,"class","preview svelte-erf3xn"),p(L,"style",O=`color: ${R}; background-color: ${e[2]}`)},m(o,r){f(o,t,r),m(t,a),d(a,e[1]),m(t,y),m(t,b),d(b,e[2]),m(t,g),m(t,U),m(U,T),f(o,x,r),f(o,F,r),m(F,L),m(L,N),e[7](L),f(o,$,r),f(o,j,r),m(j,k),I||(S=[h(a,"input",e[5]),h(b,"input",e[6]),h(U,"click",e[4])],I=!0)},p(e,[t]){2&t&&a.value!==e[1]&&d(a,e[1]),4&t&&b.value!==e[2]&&d(b,e[2]),2&t&&v(N,e[1]),4&t&&O!==(O=`color: ${R}; background-color: ${e[2]}`)&&p(L,"style",O),1&t&&v(k,e[0])},i:w,o:w,d(a){a&&u(t),a&&u(x),a&&u(F),e[7](null),a&&u($),a&&u(j),I=!1,E(S)}}}let R="#fff";function T(e,t,a){let o=0;const r=y.createFFmpeg({progress:({ratio:e})=>{a(0,o=e)}});let s,n="ここにテキスト",c="#000";return[o,n,c,s,async()=>{(await b(s)).toBlob((async e=>{if(!e)throw new Error("blob");await r.load(),r.FS("writeFile","image.png",new Uint8Array(await e.arrayBuffer())),await r.run("-loop","1","-i","image.png","-c:v","libx264","-t","15","-pix_fmt","yuv420p","-vf","scale=320:240","out.mp4");const t=r.FS("readFile","out.mp4"),a=document.createElement("a");a.href=URL.createObjectURL(new Blob([t])),a.download="out.mp4",a.click()}))},function(){n=this.value,a(1,n)},function(){c=this.value,a(2,c)},function(e){g[e?"unshift":"push"]((()=>{s=e,a(3,s)}))}]}new class extends e{constructor(e){super(),t(this,e,T,U,a,{})}}({target:document.body});
