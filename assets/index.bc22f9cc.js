import{S as e,i as t,s as a,e as o,a as r,t as s,c as n,b as c,d as i,f as l,g as u,h as p,j as f,k as m,l as d,m as h,n as v,o as w,r as E,p as y,q as b,u as U}from"./vendor.2514fe68.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(a){const o=new URL(e,location),r=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((a,s)=>{const n=new URL(e,o);if(self[t].moduleMap[n])return a(self[t].moduleMap[n]);const c=new Blob([`import * as m from '${n}';`,`${t}.moduleMap['${n}']=m;`],{type:"text/javascript"}),i=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(c),onerror(){s(new Error(`Failed to import: ${e}`)),r(i)},onload(){a(self[t].moduleMap[n]),r(i)}});document.head.appendChild(i)})),self[t].moduleMap={}}}("/assets/");function g(e){let t,a,y,b,U,g,T,F,L,N,O,$,j,x,k,I,S;return{c(){t=o("section"),a=o("input"),y=r(),b=o("input"),U=r(),g=o("button"),T=s("GENERATE"),F=r(),L=o("section"),N=o("div"),O=s(e[1]),j=r(),x=o("section"),k=s(e[0]),this.h()},l(o){t=n(o,"SECTION",{});var r=c(t);a=n(r,"INPUT",{type:!0}),y=i(r),b=n(r,"INPUT",{type:!0}),U=i(r),g=n(r,"BUTTON",{});var s=c(g);T=l(s,"GENERATE"),s.forEach(u),r.forEach(u),F=i(o),L=n(o,"SECTION",{});var p=c(L);N=n(p,"DIV",{class:!0,style:!0});var f=c(N);O=l(f,e[1]),f.forEach(u),p.forEach(u),j=i(o),x=n(o,"SECTION",{});var m=c(x);k=l(m,e[0]),m.forEach(u),this.h()},h(){p(a,"type","text"),p(b,"type","text"),p(N,"class","preview svelte-erf3xn"),p(N,"style",$=`color: ${R}; background-color: ${e[2]}`)},m(o,r){f(o,t,r),m(t,a),d(a,e[1]),m(t,y),m(t,b),d(b,e[2]),m(t,U),m(t,g),m(g,T),f(o,F,r),f(o,L,r),m(L,N),m(N,O),e[7](N),f(o,j,r),f(o,x,r),m(x,k),I||(S=[h(a,"input",e[5]),h(b,"input",e[6]),h(g,"click",e[4])],I=!0)},p(e,[t]){2&t&&a.value!==e[1]&&d(a,e[1]),4&t&&b.value!==e[2]&&d(b,e[2]),2&t&&v(O,e[1]),4&t&&$!==($=`color: ${R}; background-color: ${e[2]}`)&&p(N,"style",$),1&t&&v(k,e[0])},i:w,o:w,d(a){a&&u(t),a&&u(F),a&&u(L),e[7](null),a&&u(j),a&&u(x),I=!1,E(S)}}}let R="#fff";function T(e,t,a){let o=0;const r=y.createFFmpeg({progress:({ratio:e})=>{a(0,o=e)}});let s,n="ここにテキスト",c="#000";return[o,n,c,s,async()=>{(await b(s)).toBlob((async e=>{if(!e)throw new Error("blob");await r.load(),r.FS("writeFile","image.png",new Uint8Array(await e.arrayBuffer())),await r.run("-loop","1","-i","image.png","-c:v","libx264","-t","15","-pix_fmt","yuv420p","-vf","scale=320:240","out.mp4");const t=r.FS("readFile","out.mp4"),a=document.createElement("a");a.href=URL.createObjectURL(new Blob([t])),a.download="out.mp4",a.click()}))},function(){n=this.value,a(1,n)},function(){c=this.value,a(2,c)},function(e){U[e?"unshift":"push"]((()=>{s=e,a(3,s)}))}]}new class extends e{constructor(e){super(),t(this,e,T,g,a,{})}}({target:document.body});
