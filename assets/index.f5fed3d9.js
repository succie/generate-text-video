import{S as e,i as t,s as o,e as n,a,t as r,c as s,b as i,d as c,f as l,g as u,h as f,j as d,k as p,l as m,m as v,n as h,o as y,r as w,p as b,q as E,u as U}from"./vendor.fd3b5479.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(o){const n=new URL(e,location),a=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((o,r)=>{const s=new URL(e,n);if(self[t].moduleMap[s])return o(self[t].moduleMap[s]);const i=new Blob([`import * as m from '${s}';`,`${t}.moduleMap['${s}']=m;`],{type:"text/javascript"}),c=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(i),onerror(){r(new Error(`Failed to import: ${e}`)),a(c)},onload(){o(self[t].moduleMap[s]),a(c)}});document.head.appendChild(c)})),self[t].moduleMap={}}}("/generate-text-video/assets/");function g(e){let t,o,b,E,U,g,R,F,L,T,$,j,N,O;return{c(){t=n("section"),o=n("input"),b=a(),E=n("input"),U=a(),g=n("button"),R=r("GENERATE"),F=a(),L=n("section"),T=n("div"),$=r(e[0]),this.h()},l(n){t=s(n,"SECTION",{});var a=i(t);o=s(a,"INPUT",{type:!0}),b=c(a),E=s(a,"INPUT",{type:!0}),U=c(a),g=s(a,"BUTTON",{});var r=i(g);R=l(r,"GENERATE"),r.forEach(u),a.forEach(u),F=c(n),L=s(n,"SECTION",{});var f=i(L);T=s(f,"DIV",{class:!0,style:!0});var d=i(T);$=l(d,e[0]),d.forEach(u),f.forEach(u),this.h()},h(){f(o,"type","text"),f(E,"type","text"),f(T,"class","preview svelte-erf3xn"),f(T,"style",j=`color: ${x}; background-color: ${e[1]}`)},m(n,a){d(n,t,a),p(t,o),m(o,e[0]),p(t,b),p(t,E),m(E,e[1]),p(t,U),p(t,g),p(g,R),d(n,F,a),d(n,L,a),p(L,T),p(T,$),e[6](T),N||(O=[v(o,"input",e[4]),v(E,"input",e[5]),v(g,"click",e[3])],N=!0)},p(e,[t]){1&t&&o.value!==e[0]&&m(o,e[0]),2&t&&E.value!==e[1]&&m(E,e[1]),1&t&&h($,e[0]),2&t&&j!==(j=`color: ${x}; background-color: ${e[1]}`)&&f(T,"style",j)},i:y,o:y,d(o){o&&u(t),o&&u(F),o&&u(L),e[6](null),N=!1,w(O)}}}let x="#fff";function R(e,t,o){var n=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))((function(a,r){function s(e){try{c(n.next(e))}catch(t){r(t)}}function i(e){try{c(n.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(s,i)}c((n=n.apply(e,t||[])).next())}))};const a=b.createFFmpeg();let r,s="ここにテキスト",i="#000";return[s,i,r,()=>n(void 0,void 0,void 0,(function*(){const e=yield E(r);yield a.load(),e.toBlob((e=>n(void 0,void 0,void 0,(function*(){if(!e)throw new Error("blob");a.FS("writeFile","image.png",new Uint8Array(yield e.arrayBuffer())),yield a.run("-loop","1","-i","image.png","-c:v","libx264","-t","15","-pix_fmt","yuv420p","-vf","scale=320:240","out.mp4");const t=a.FS("readFile","out.mp4"),o=document.createElement("a");o.href=URL.createObjectURL(new Blob([t])),o.download="out.mp4",o.click()}))))})),function(){s=this.value,o(0,s)},function(){i=this.value,o(1,i)},function(e){U[e?"unshift":"push"]((()=>{r=e,o(2,r)}))}]}new class extends e{constructor(e){super(),t(this,e,R,g,o,{})}}({target:document.body});
//# sourceMappingURL=index.f5fed3d9.js.map
